<h1>Products</h1>

<div id="products">
  <% @products.each do |product| %>
    <div style="padding: 10px; margin: 5px 0; border: 1px solid #ccc;">
      <strong><%= link_to product.name, product_path(product) %></strong>

      <div style="margin-top: 5px;">
        <% if allowed_to?(:edit?, product) %>
          <%= link_to "Edit", edit_product_path(product) %>
        <% end %>

        <% if allowed_to?(:destroy?, product) %>
          <%= button_to "Delete", product_path(product), method: :delete,
            data: { turbo_confirm: "Are you sure?" } %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<%= link_to "New Product", new_product_path if allowed_to?(:new?, Product.new) %>
